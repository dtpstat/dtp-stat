{% extends "base.html" %}

{% load static %}

{% block extra-head %}
    {% if not settings.NEXTJS_IFRAME_WITH_MAP %}
    <link href="{% static "css/map/main.c2043ad9.chunk.css" %}" rel="stylesheet">
    {% endif %}
{% endblock %}

{% block content %}
    {% if settings.NEXTJS_IFRAME_WITH_MAP %}
    <style>
        html { height: 100%; }
        body { height: 100%; display: flex; flex-direction: column; }
    </style>
    <div style="display: flex; flex: 1 1;">
        <iframe id="iframe-with-map" frameborder="0" width="100%" height="100%"></iframe>
    </div>
    <script>
        document
            .getElementById('iframe-with-map')
            .setAttribute('src', '{{ settings.NEXTJS_BASE_URL }}/iframes/map' + window.location.search)
    </script>
    {% include "iframe_messaging.html" %}
    {% else %}
    <div id="root"></div>
    <script src="https://api-maps.yandex.ru/2.1/?apikey=ad7c40a7-7096-43c9-b6e2-5e1f6d06b9ec&lang=ru_RU" type="text/javascript"></script>
    <script src="https://yastatic.net/s3/mapsapi-jslibs/heatmap/0.0.1/heatmap.min.js" type="text/javascript"></script>
    <script>!function(e){function t(t){for(var n,p,l=t[0],a=t[1],f=t[2],c=0,s=[];c<l.length;c++)p=l[c],Object.prototype.hasOwnProperty.call(o,p)&&o[p]&&s.push(o[p][0]),o[p]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(i&&i(t);s.length;)s.shift()();return u.push.apply(u,f||[]),r()}function r(){for(var e,t=0;t<u.length;t++){for(var r=u[t],n=!0,l=1;l<r.length;l++){var a=r[l];0!==o[a]&&(n=!1)}n&&(u.splice(t--,1),e=p(p.s=r[0]))}return e}var n={},o={1:0},u=[];function p(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,p),r.l=!0,r.exports}p.m=e,p.c=n,p.d=function(e,t,r){p.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},p.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p.t=function(e,t){if(1&t&&(e=p(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(p.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)p.d(r,n,function(t){return e[t]}.bind(null,n));return r},p.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return p.d(t,"a",t),t},p.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},p.p="/";var l=this["webpackJsonpdtp-map"]=this["webpackJsonpdtp-map"]||[],a=l.push.bind(l);l.push=t,l=l.slice();for(var f=0;f<l.length;f++)t(l[f]);var i=a;r()}([])</script>
    <script src="{% static "js/map/2.62214ead.chunk.js" %}"></script>
    <script src="{% static "js/map/main.7391cf9b.chunk.js" %}"></script>
    {% endif %}
{% endblock %}
